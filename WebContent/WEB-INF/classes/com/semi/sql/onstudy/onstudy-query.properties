#JH

#mainList(main)
selectMainList=SELECT ONSTUDY_NO, RNUM, ONSTUDY_TITLE, MEMBER_COUNT, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_DEADLINE_DT, ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, ONSTUDY_DDAY, IMAGE_PATH FROM (SELECT ONSTUDY_NO, ROW_NUMBER() OVER(ORDER BY ONSTUDY_NO DESC) AS RNUM, ONSTUDY_TITLE, MEMBER_COUNT, ONSTUDY_CREATE_DT, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_ADD_COMMENT, ONSTUDY_STATUS, ONSTUDY_WEEKS, ONSTUDY_WRITER, CATEGORY_NM, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, TRUNC(ONSTUDY_START_DT-SYSDATE)+1 AS ONSTUDY_DDAY, (((ONSTUDY_END_DT - ONSTUDY_START_DT)+1)/7 * ONSTUDY_CERTIFY_COUNT) AS TOTAL_CERTIFY_COUNT FROM ONSTUDY JOIN V_MEMBER_COUNT USING(ONSTUDY_NO) JOIN STUDY_CATEGORY USING(CATEGORY_CD) WHERE SYSDATE < (ONSTUDY_START_DT)) LEFT JOIN ONSTUDY_IMAGE USING (ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND RNUM <= 6 ORDER BY ONSTUDY_NO DESC

#pList(point)
selectOnstudyPList=SELECT ONSTUDY_NO, ONSTUDY_TITLE, ONSTUDY_DEADLINE_DT, ONSTUDY_DDAY, ONSTUDY_CERTIFY_COUNT, MEMBER_COUNT, SUM_FEE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_WEEKS, IMAGE_PATH FROM (SELECT ONSTUDY_NO, ROW_NUMBER() OVER(ORDER BY SUM_FEE DESC) AS RNUM, ONSTUDY_TITLE, ONSTUDY_CREATE_DT, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_ADD_COMMENT, ONSTUDY_STATUS, ONSTUDY_WEEKS, ONSTUDY_WRITER, CATEGORY_NM, MEMBER_COUNT, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, TRUNC(ONSTUDY_START_DT - SYSDATE)+1 AS ONSTUDY_DDAY, (((ONSTUDY_END_DT - ONSTUDY_START_DT)+1)/7 * ONSTUDY_CERTIFY_COUNT) AS TOTAL_CERTIFY_COUNT FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) JOIN V_MEMBER_COUNT USING(ONSTUDY_NO) JOIN V_SUM_FEE USING (ONSTUDY_NO) WHERE SYSDATE < (ONSTUDY_START_DT)) JOIN V_SUM_FEE USING (ONSTUDY_NO) LEFT JOIN ONSTUDY_IMAGE USING (ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND RNUM <= 3 ORDER BY RNUM ASC, ONSTUDY_DEADLINE_DT ASC
#mList(member)
selectOnstudyMList=SELECT ONSTUDY_NO, ONSTUDY_TITLE, MEMBER_COUNT, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_DEADLINE_DT, ONSTUDY_DDAY, ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, IMAGE_PATH FROM (SELECT ONSTUDY_NO, ROW_NUMBER() OVER(ORDER BY MEMBER_COUNT DESC, ONSTUDY_NO DESC) AS RNUM, ONSTUDY_TITLE, ONSTUDY_CREATE_DT, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_ADD_COMMENT, ONSTUDY_STATUS, ONSTUDY_WEEKS, ONSTUDY_WRITER, CATEGORY_NM, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, TRUNC(ONSTUDY_START_DT - SYSDATE)+1 AS ONSTUDY_DDAY, (((ONSTUDY_END_DT - ONSTUDY_START_DT)+1)/7 * ONSTUDY_CERTIFY_COUNT) AS TOTAL_CERTIFY_COUNT FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) JOIN V_MEMBER_COUNT USING(ONSTUDY_NO) WHERE SYSDATE < (ONSTUDY_START_DT)) JOIN V_MEMBER_COUNT USING(ONSTUDY_NO) LEFT JOIN ONSTUDY_IMAGE USING (ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND RNUM <= 3 ORDER BY RNUM ASC, ONSTUDY_DEADLINE_DT ASC
#dList(newest)
selectOnstudyDList=SELECT ONSTUDY_NO, RNUM, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_DEADLINE_DT, ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, IMAGE_PATH FROM (SELECT ONSTUDY_NO, ROW_NUMBER() OVER(ORDER BY ONSTUDY_NO DESC) AS RNUM, ONSTUDY_TITLE, ONSTUDY_CREATE_DT, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_ADD_COMMENT, ONSTUDY_STATUS, ONSTUDY_WEEKS, ONSTUDY_WRITER, CATEGORY_NM, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, TRUNC(ONSTUDY_START_DT-SYSDATE)+1 AS ONSTUDY_DDAY, (((ONSTUDY_END_DT - ONSTUDY_START_DT)+1)/7 * ONSTUDY_CERTIFY_COUNT) AS TOTAL_CERTIFY_COUNT FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) WHERE SYSDATE < (ONSTUDY_START_DT)) LEFT JOIN ONSTUDY_IMAGE USING (ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND RNUM <= 3 ORDER BY ONSTUDY_NO DESC

#detail
selectOnstudy=SELECT ONSTUDY_TITLE, MEMBER_COUNT, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_ADD_COMMENT, CATEGORY_NM, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, ((ONSTUDY_END_DT - ONSTUDY_START_DT)+1)/7 AS ONSTUDY_WEEKS, TRUNC(ONSTUDY_START_DT-SYSDATE)+1 AS ONSTUDY_DDAY, (((ONSTUDY_END_DT - ONSTUDY_START_DT)+1)/7 * ONSTUDY_CERTIFY_COUNT) AS TOTAL_CERTIFY_COUNT FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) JOIN V_MEMBER_COUNT USING(ONSTUDY_NO) WHERE ONSTUDY_NO=? AND ONSTUDY_STATUS='Y'
#sameCategory
sameCategory=SELECT ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_WEEKS, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, IMAGE_PATH, CATEGORY_NM FROM ONSTUDY JOIN STUDY_CATEGORY USING	(CATEGORY_CD) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) WHERE CATEGORY_CD=(SELECT CATEGORY_CD FROM ONSTUDY WHERE ONSTUDY_NO=?) AND ONSTUDY_STATUS='Y' AND SYSDATE < ONSTUDY_START_DT AND ONSTUDY_NO != ?
#search  
searchOnstudy1=SELECT ONSTUDY_NO, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, IMAGE_PATH, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND SYSDATE < (ONSTUDY_START_DT)

#onstduy certify rate
certifyRate=SELECT ONSTUDY_NO, SUM(WEEK_CERTIFY_COUNT), ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT FROM V_ONSTUDY_CERTIFY_COUNT_WEEK WHERE ONSTUDY_BOARD_WRITER=? GROUP BY (ONSTUDY_NO, ONSTUDY_BOARD_WRITER, ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT)

#count
getListCount=SELECT COUNT (*) FROM (SELECT ROW_NUMBER() OVER(ORDER BY ONSTUDY_NO DESC) AS RNUM, ONSTUDY_NO, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, ONSTUDY_WEEKS, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, IMAGE_PATH FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND SYSDATE < (ONSTUDY_START_DT)
#+condition
 
#searchlist
searchList1=SELECT RNUM, ONSTUDY_NO, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, ONSTUDY_WEEKS, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, IMAGE_PATH FROM (SELECT ROW_NUMBER() OVER(ORDER BY ONSTUDY_NO DESC) AS RNUM, ONSTUDY_NO, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, ONSTUDY_WEEKS, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, IMAGE_PATH FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND SYSDATE < (ONSTUDY_START_DT)
#+condition 
searchList2= ORDER BY ONSTUDY_DEADLINE_DT ASC) WHERE RNUM BETWEEN ? AND ?

#paging 
selectList=SELECT RNUM, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, ONSTUDY_WEEKS,(ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, IMAGE_PATH FROM (SELECT ROW_NUMBER() OVER(ORDER BY ONSTUDY_NO DESC) AS RNUM, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, ONSTUDY_WEEKS, (ONSTUDY_START_DT-1) AS ONSTUDY_DEADLINE_DT, IMAGE_PATH FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y') WHERE RNUM BETWEEN ? AND ?





#JI

#onstudy
checkCategory = SELECT COUNT(*) FROM ONSTUDY WHERE ONSTUDY_NO IN (SELECT ONSTUDY_NO FROM MEMBER_ONSTUDY_LIST WHERE MEMBER_NO=? AND ONSTUDY_STATUS='Y') AND CATEGORY_CD = ? AND (((? BETWEEN ONSTUDY_START_DT AND ONSTUDY_END_DT) OR (? BETWEEN ONSTUDY_START_DT AND ONSTUDY_END_DT)) OR ((ONSTUDY_START_DT BETWEEN ? AND ?) OR (ONSTUDY_END_DT BETWEEN ? AND ?)))
checkJoinCount = SELECT COUNT(*) FROM ONSTUDY WHERE ONSTUDY_NO IN (SELECT ONSTUDY_NO FROM MEMBER_ONSTUDY_LIST WHERE MEMBER_NO=? AND ONSTUDY_STATUS='Y') AND (((? BETWEEN ONSTUDY_START_DT AND ONSTUDY_END_DT) OR (? BETWEEN ONSTUDY_START_DT AND ONSTUDY_END_DT)) OR ((ONSTUDY_START_DT BETWEEN ? AND ?) OR (ONSTUDY_END_DT BETWEEN ? AND ?)))
selectNextNo = SELECT SEQ_ONO.NEXTVAL FROM DUAL
createOnstudy = INSERT INTO ONSTUDY VALUES(?, ?, DEFAULT, ?, ?, ?, ?, ?, DEFAULT, ?, ?, ?)
joinOnstudy = INSERT INTO MEMBER_ONSTUDY_LIST VALUES(?, ?, DEFAULT)
joinPoint = INSERT INTO POINT_DETAIL VALUES(SEQ_PDNO.NEXTVAL, ?, 'M', DEFAULT, ?, 3)
cancelOnstudy = DELETE FROM MEMBER_ONSTUDY_LIST WHERE MEMBER_NO=? AND ONSTUDY_NO=?
cancelPoint = INSERT INTO POINT_DETAIL VALUES(SEQ_PDNO.NEXTVAL, ?,  'A', DEFAULT, ?, 5)

manageCount = SELECT COUNT(*) FROM ONSTUDY WHERE MEMBER_NO=? AND ONSTUDY_STATUS='Y'
selectOnstudyList = SELECT ONSTUDY_NO, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_WEEKS, CATEGORY_NM, IMAGE_PATH FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND ONSTUDY_WRITER=? AND ONSTUDY_START_DT > TO_CHAR(SYSDATE,'YYYYMMDD') ORDER BY ONSTUDY_START_DT
selectUpdate = SELECT ONSTUDY_TITLE, IMAGE_PATH, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT, ONSTUDY_ADD_COMMENT FROM ONSTUDY LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) WHERE ONSTUDY_NO=?
#updateOnstudy = UPDATE ONSTUDY SET ONSTUDY_TITLE=?, ONSTUDY_CREATE_DT=SYSDATE, ONSTUDY_START_DT=?, ONSTUDY_END_DT=?, ONSTUDY_CERTIFY_COUNT=?, ONSTUDY_ADD_COMMENT=?, ONSTUDY_WEEKS=? WHERE ONSTUDY_NO=?
updateOnstudy = UPDATE ONSTUDY SET ONSTUDY_CREATE_DT=SYSDATE, ONSTUDY_CERTIFY_COUNT=?, ONSTUDY_ADD_COMMENT=? WHERE ONSTUDY_NO=?
deleteOnstudy = UPDATE ONSTUDY SET ONSTUDY_STATUS='N' WHERE ONSTUDY_NO=?
nowJoin = SELECT ONSTUDY_NO, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_WEEKS, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, IMAGE_PATH, MEMBER_COUNT, NVL(CERTIFY_COUNT, 0) AS TODAY_CERTIFY_CHECK FROM MEMBER_ONSTUDY_LIST JOIN V_ONSTUDY USING(ONSTUDY_NO) LEFT JOIN (SELECT ONSTUDY_NO, CERTIFY_COUNT FROM V_ONSTUDY_CERTIFY_COUNT WHERE CERTIFY_DATE = TO_CHAR(SYSDATE,'YYYYMMDD') AND ONSTUDY_BOARD_WRITER=?) USING(ONSTUDY_NO) WHERE TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN TO_CHAR(ONSTUDY_START_DT,'YYYYMMDD') AND TO_CHAR(ONSTUDY_END_DT,'YYYYMMDD') AND ONSTUDY_STATUS='Y' AND MEMBER_NO=? ORDER BY ONSTUDY_NO 
todayWeek = SELECT ONSTUDY_NO, ONSTUDY_BOARD_WRITER, NVL(TODAY, 0) TODAY_CERTIFY_COUNT, N_WEEK, WEEK_CERTIFY_COUNT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_WEEKS FROM V_ONSTUDY_CERTIFY_COUNT_WEEK LEFT JOIN (SELECT ONSTUDY_NO, ONSTUDY_BOARD_WRITER, COUNT(*) TODAY FROM ONSTUDY_BOARD WHERE TO_CHAR(ONSTUDY_BOARD_CREATE_DT,'YYYYMMDD')=TO_CHAR(SYSDATE,'YYYYMMDD') AND ONSTUDY_BOARD_WRITER=? GROUP BY ONSTUDY_NO, ONSTUDY_BOARD_WRITER) USING(ONSTUDY_NO, ONSTUDY_BOARD_WRITER) WHERE ONSTUDY_BOARD_WRITER=? AND N_WEEK = TODAY_WEEK
#checkToday = SELECT COUNT(*) FROM V_ONSTUDY_CERTIFY_COUNT WHERE CERTIFY_DATE = TO_CHAR(SYSDATE,'YYYYMMDD') AND ONSTUDY_BOARD_WRITER=? AND ONSTUDY_NO=?
selectNWeek = SELECT TRUNC((TRUNC(SYSDATE) - ONSTUDY_START_DT)/7)+1 N_WEEK FROM ONSTUDY WHERE ONSTUDY_NO=? AND ONSTUDY_STATUS='Y'
#checkWeek = SELECT WEEK_CERTIFY_COUNT,ONSTUDY_CERTIFY_COUNT FROM V_ONSTUDY_CERTIFY_COUNT_WEEK WHERE ONSTUDY_NO=? AND ONSTUDY_BOARD_WRITER=? AND N_WEEK=?
checkCertifyCount = SELECT ONSTUDY_NO, ONSTUDY_BOARD_WRITER, NVL(TODAY, 0) TODAY_CERTIFY_COUNT, N_WEEK, WEEK_CERTIFY_COUNT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_WEEKS FROM V_ONSTUDY_CERTIFY_COUNT_WEEK LEFT JOIN (SELECT ONSTUDY_NO, ONSTUDY_BOARD_WRITER, COUNT(*) TODAY FROM ONSTUDY_BOARD WHERE TO_CHAR(ONSTUDY_BOARD_CREATE_DT,'YYYYMMDD')=TO_CHAR(SYSDATE,'YYYYMMDD') GROUP BY ONSTUDY_NO, ONSTUDY_BOARD_WRITER) USING(ONSTUDY_NO, ONSTUDY_BOARD_WRITER) WHERE ONSTUDY_NO=? AND ONSTUDY_BOARD_WRITER=? AND N_WEEK=?
certifyTotal = SELECT ONSTUDY_NO, ONSTUDY_TITLE, CATEGORY_NM, IMAGE_PATH, ONSTUDY_START_DT, ONSTUDY_END_DT, ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, ONSTUDY_WEEKS, MEMBER_COUNT, NVL(TODAY_WEEK, 0) TODAY_WEEK, NVL(TODAY_CERTIFY, 0) TODAY_CERTIFY_COUNT, NVL(WEEK_CERTIFY_COUNT, 0) WEEK_CERTIFY_COUNT , NVL(TOTAL_COUNT, 0) TOTAL_COUNT FROM ONSTUDY JOIN STUDY_CATEGORY USING(CATEGORY_CD) JOIN (SELECT ONSTUDY_NO, COUNT(*) MEMBER_COUNT FROM MEMBER_ONSTUDY_LIST GROUP BY ONSTUDY_NO) USING(ONSTUDY_NO) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) LEFT JOIN (SELECT ONSTUDY_NO, COUNT(*) TOTAL_COUNT FROM ONSTUDY_BOARD WHERE ONSTUDY_BOARD_STATUS='Y' AND ONSTUDY_BOARD_WRITER=? GROUP BY ONSTUDY_NO) USING(ONSTUDY_NO) LEFT JOIN (SELECT ONSTUDY_NO, COUNT(*) TODAY_CERTIFY FROM ONSTUDY_BOARD WHERE ONSTUDY_BOARD_STATUS='Y' AND ONSTUDY_BOARD_WRITER=? AND TO_CHAR(ONSTUDY_BOARD_CREATE_DT, 'YYYYMMDD') = TO_CHAR(SYSDATE, 'YYYYMMDD') GROUP BY ONSTUDY_NO) USING(ONSTUDY_NO) LEFT JOIN (SELECT ONSTUDY_NO, ONSTUDY_BOARD_WRITER, TODAY_WEEK, WEEK_CERTIFY_COUNT FROM V_ONSTUDY_CERTIFY_COUNT_WEEK WHERE ONSTUDY_BOARD_WRITER=? AND N_WEEK = TODAY_WEEK) USING(ONSTUDY_NO) WHERE ONSTUDY_NO IN (SELECT ONSTUDY_NO FROM MEMBER_ONSTUDY_LIST WHERE MEMBER_NO=?) AND ONSTUDY_STATUS='Y' AND SYSDATE BETWEEN ONSTUDY_START_DT AND ONSTUDY_END_DT
checkJoin = SELECT COUNT(*) FROM MEMBER_ONSTUDY_LIST WHERE MEMBER_NO=? AND ONSTUDY_NO=? 

#thumbnail
checkThumbnail = SELECT COUNT(*) FROM ONSTUDY_IMAGE WHERE ONSTUDY_NO=? AND IMAGE_STATUS='Y' 
insertThumbnail = INSERT INTO ONSTUDY_IMAGE VALUES(SEQ_OS_INO.NEXTVAL, ?, DEFAULT, DEFAULT, ?)
updateThumbnail = UPDATE ONSTUDY_IMAGE SET IMAGE_PATH=? WHERE ONSTUDY_NO=? AND IMAGE_STATUS='Y'
deleteThumbnail = DELETE FROM ONSTUDY_IMAGE WHERE ONSTUDY_NO=?
selectThumbnail = SELECT IMAGE_PATH FROM ONSTUDY_IMAGE WHERE ONSTUDY_NO=? AND IMAGE_STATUS='Y'

#onstudyBoard
boardListCount = SELECT COUNT(*) FROM ONSTUDY_BOARD WHERE ONSTUDY_NO=? AND ONSTUDY_BOARD_STATUS='Y'
selectList = SELECT RNUM, ONSTUDY_BOARD_NO, ONSTUDY_BOARD_TITLE, ONSTUDY_BOARD_CREATE_DT, ONSTUDY_BOARD_MODIFY_DT, ONSTUDY_BOARD_COUNT, ONSTUDY_NO, MEMBER_ID FROM (SELECT ROWNUM RNUM, ONSTUDY_BOARD_NO, ONSTUDY_BOARD_TITLE, ONSTUDY_BOARD_CREATE_DT, ONSTUDY_BOARD_MODIFY_DT, ONSTUDY_BOARD_COUNT, ONSTUDY_NO, MEMBER_ID FROM V_ONSTUDY_BOARD WHERE ONSTUDY_NO=? ORDER BY ONSTUDY_BOARD_NO DESC) WHERE RNUM BETWEEN ? AND ?
selectNextBoardNo = SELECT SEQ_OS_BNO.NEXTVAL FROM DUAL
insertBoard = INSERT INTO ONSTUDY_BOARD VALUES(?, ?, ?,DEFAULT, DEFAULT, DEFAULT, DEFAULT, ?, ?)
selectBoard = SELECT RNUM, ONSTUDY_BOARD_NO, ONSTUDY_BOARD_TITLE, ONSTUDY_BOARD_CONTENT, ONSTUDY_BOARD_CREATE_DT, ONSTUDY_BOARD_MODIFY_DT, ONSTUDY_BOARD_COUNT, ONSTUDY_NO, MEMBER_ID FROM (SELECT ROWNUM RNUM, ONSTUDY_BOARD_NO, ONSTUDY_BOARD_TITLE, ONSTUDY_BOARD_CONTENT, ONSTUDY_BOARD_CREATE_DT, ONSTUDY_BOARD_MODIFY_DT, ONSTUDY_BOARD_COUNT, ONSTUDY_NO, MEMBER_ID FROM V_ONSTUDY_BOARD WHERE ONSTUDY_BOARD_NO=? ORDER BY ONSTUDY_BOARD_NO DESC)
increaseCount = UPDATE ONSTUDY_BOARD SET ONSTUDY_BOARD_COUNT=ONSTUDY_BOARD_COUNT+1 WHERE ONSTUDY_BOARD_NO=?
#searchList = SELECT ROWNUM, V_ONSTUDY_BOARD.* FROM V_ONSTUDY_BOARD WHERE ONSTUDY_NO=? AND 
searchListCount = SELECT COUNT(*) FROM V_ONSTUDY_BOARD WHERE ONSTUDY_NO=? AND 
searchList = SELECT RNUM, ONSTUDY_BOARD_NO, ONSTUDY_BOARD_TITLE, ONSTUDY_BOARD_CONTENT, ONSTUDY_BOARD_CREATE_DT, ONSTUDY_BOARD_MODIFY_DT, ONSTUDY_BOARD_COUNT, ONSTUDY_NO, MEMBER_ID FROM (SELECT ROWNUM RNUM, ONSTUDY_BOARD_NO, ONSTUDY_BOARD_TITLE, ONSTUDY_BOARD_CONTENT, ONSTUDY_BOARD_CREATE_DT, ONSTUDY_BOARD_MODIFY_DT, ONSTUDY_BOARD_COUNT, ONSTUDY_NO, MEMBER_ID FROM V_ONSTUDY_BOARD WHERE ONSTUDY_NO=? ORDER BY ONSTUDY_BOARD_NO DESC) WHERE RNUM BETWEEN ? AND ? AND
#searchBoard2 = AND BOARD_STATUS='Y' ORDER BY NOTICE_NO DESC
updateBoard = UPDATE ONSTUDY_BOARD SET ONSTUDY_BOARD_TITLE = ?, ONSTUDY_BOARD_CONTENT = ? WHERE ONSTUDY_BOARD_NO = ?

#Attachment
insertAttachment = INSERT INTO ONSTUDY_BOARD_IMAGE VALUES(SEQ_OS_BD_INO.NEXTVAL, ?, DEFAULT, DEFAULT, ?)
selectFiles = SELECT * FROM ONSTUDY_BOARD_IMAGE WHERE ONSTUDY_BOARD_NO=? ORDER BY IMAGE_NO
selectImgList = SELECT IMAGE_PATH FROM ONSTUDY_BOARD_IMAGE WHERE ONSTUDY_BOARD_NO = ?
updateAttachment = UPDATE ONSTUDY_BOARD_IMAGE SET IMAGE_PATH=? WHERE IMAGE_PATH=?

#mypage
onstudyCount = SELECT COUNT(*) FROM MEMBER_ONSTUDY_LIST JOIN ONSTUDY USING(ONSTUDY_NO) WHERE ONSTUDY_STATUS='Y' AND MEMBER_NO=? 
myOnstudyList = SELECT MEMBER_NO, ONSTUDY_NO, REFUND, ONSTUDY_TITLE, ONSTUDY_START_DT, ONSTUDY_END_DT, CASE WHEN SYSDATE > ONSTUDY_END_DT THEN 1 ELSE 0 END CLOSE_CHECK, ONSTUDY_WEEKS , ONSTUDY_CERTIFY_COUNT, ONSTUDY_FEE, CATEGORY_NM, NVL(MY_CERTIFY_COUNT, 0) MY_CERTIFY_COUNT, IMAGE_PATH FROM MEMBER_ONSTUDY_LIST LEFT JOIN ONSTUDY USING(ONSTUDY_NO) LEFT JOIN ONSTUDY_IMAGE USING(ONSTUDY_NO) JOIN STUDY_CATEGORY USING(CATEGORY_CD) LEFT JOIN (SELECT ONSTUDY_NO, SUM(WEEK_CERTIFY_COUNT) MY_CERTIFY_COUNT FROM V_ONSTUDY_CERTIFY_COUNT_WEEK WHERE ONSTUDY_BOARD_WRITER=? GROUP BY ONSTUDY_NO) USING(ONSTUDY_NO) WHERE MEMBER_NO=? AND ONSTUDY_STATUS='Y' ORDER BY ONSTUDY_NO